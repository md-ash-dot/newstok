{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}
{% autoescape off %}
<div class="container-fluid">
  <div class="row">
      <!-- News Entries Column -->
      <div class="col-12 mt-3 left">
          <div class="row">
            {% for testimonial in object_list %}
            <div class="col-md-4">
                <div class="card mb-4">
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">
                                <h2 class="card-title text-center">{{testimonial.name}}</h2>
                            </li>
                            <li class="list-group-item">
                                <p class="card-text">{{testimonial.testimonial}}</p>
                            </li>
                            <li class="list-group-item">
                                <p class="card-text">{{testimonial.rating}} STARS</p>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
          {% if forloop.counter|divisibleby:3 %}
          </div>
          <div class="row">
              {% endif %}
              {% endfor %}
          </div>
      </div>
  </div>
  {% if is_paginated %}
  <nav aria-label="Page navigation">
      <ul class="pagination justify-content-center">
          {% if page_obj.has_previous %}
      <li>
          <a href="?page={{ page_obj.previous_page_number }}"
          class="page-link">&laquo; PREV</a>
      </li>
          {% endif %}
          <span class="page-link">
              Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
          </span>
          {% if page_obj.has_next %}
          <li><a href="?page={{ page_obj.next_page_number }}" class="page-link"> NEXT &raquo;</a></li>
          {% endif %}
      </ul>
  </nav>
  {% endif %}
</div>
{% endautoescape %}
<div class="row justify-content-center">
  <div class="col-12 col-md-6 my-5">
      <h2>We would love to hear about what you think about NewsTok</h2>
      <p>Thank you for being part of our community and for taking the time to contribute. 
        Your testimonials may be featured on our website to showcase the real voices of our readers.</p>

      <!-- add your form here. Your submit button should 
                          have the classes of btn, btn-secondary -->
      <form method="post">
        {{ testimonial_form | crispy }}
        {% csrf_token %}
        <button class="btn btn-secondary" type="submit">Submit</button>
      </form>
  </div>

{% endblock %}









